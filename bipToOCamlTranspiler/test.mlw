module M
  use int.Int

  let match_assert (x: int) : int
    ensures { result >= 0 }
  =
    let res =
      match x with
      | 0 -> 10
      | 1 -> 20
      | _ -> 0
      end
    in
    assert { res >= 0 };
    res

end
